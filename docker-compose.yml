version: "3.8"

services:
  binoculars:
    build:
      context: .
      dockerfile: Dockerfile
    working_dir: /app
    command: python3.10 app.py
    ports:
      - "7860:7860"  # Gradio app port
      - "8080:8080"  # fastapi app port
    volumes:
      - .:/app 
    networks:
      - net
    environment:
      - GRADIO_SERVER_NAME=0.0.0.0
      - GRADIO_SERVER_PORT=7860

networks:
  net: